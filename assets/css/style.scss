---
---
@import 'theme.scss';
@import 'container.scss';

// Lora font face
@font-face {
  font-display: swap;
  font-family: Lora;
  src: url(../fonts/Lora-VariableFont_wght.ttf);
}
@font-face {
  font-display: swap;
  font-family: Lora;
  font-style: italic;
  src: url(../fonts/Lora-Italic-VariableFont_wght.ttf);
}

// Open Sans font face
@font-face {
  font-display: swap;
  font-family: 'Open Sans';
  src: url(../fonts/OpenSans-VariableFont_wdth,wght.ttf);
}
@font-face {
  font-display: swap;
  font-family: 'Open Sans';
  font-style: italic;
  src: url(../fonts/OpenSans-Italic-VariableFont_wdth,wght.ttf);
}

// sets font size to 10px default, useful with rem values
:root { font-size: 62.5%; }

::selection {
  background: $color-highlight-bg;
  color: $color-highlight;
}

html { background: $color-bg; }

body {
  color: $color-primary;
  font-family: 'Open Sans', sans-serif;
  font-size: 1.8rem;
  line-height: 1.6;
  margin: 0;
}

h1, h2, h3, h4, h5, h6, p.cap, .gallery, .feature div div, .pagenav, sup, .toc, .plainlinks {
  a, a:active, a:visited {
    text-decoration: none;
    &[target="_blank"]::after { content: none; }
    &[href]:where([href^="http"])::after { content: none; }
  }
}
h1, h2, h3, h4, h5, h6 {
  font-family: Lora, serif;
  letter-spacing: .02rem;
  margin: 1.5rem 0 1rem;
  + p { margin-top: 1rem; }
}
h1 {
  font-size: 3.2rem;
  ~ .pagenav { margin-bottom: 1.5rem; }
}
h2 { font-size: 2.4rem; }
h3 { font-size: 2.1rem; }
h4 { font-size: 1.9rem; }
h5 { font-size: 1.8rem; }
h6 {
  font-size: 1.8rem;
  font-weight: normal;
}

p {
  margin: 1.5rem 0;
  // heading captions
  &.cap {
    color: $color-secondary;
    font-size: 1.5rem;
    margin-top: -1rem;
  }
}

sup { line-height: 0; }

a, a:active, a:visited {
  color: $color-link;
  text-decoration: $color-primary underline 8%;
  text-underline-offset: 8%;
  // internal _blank
  &[target="_blank"]::after { content: ' ❐'; }
  // external link
  &[href]:where([href^="http"])::after { content: ' ⧉'; }
}
a:hover { color: $color-primary; }

ul, ol { padding-inline-start: 6%; }
ol ol { list-style-type: lower-alpha; }

code { white-space: nowrap; }

.flag { display: inline; }

.table {
  margin: 1.5rem auto;
  overflow-x: auto;
  table {
    border-collapse: collapse;
    margin: 0 auto;
    text-align: left;
    th { background-color: $color-shade; }
    &.full { width: 100%; }
    &.borders {
      th, td {
        border: .1rem solid $color-border;
        padding: 1rem;
      }
    }
    &.small {
      font-size: 1.5rem;
      .flag { height: 1.1rem; }
    }
    &.smaller {
      font-size: 1.3rem;
      .flag { height: 1rem; }
    }
    &.smallest {
      font-size: 1.2rem;
      .flag { height: .9rem; }
    }
  }
}

.footnotes {
  clear: both;
  color: $color-secondary;
  font-size: 1.3rem;
  &::before { content: "Footnotes:"; }
  .reversefootnote { text-decoration: none; }
}

// Page navigation
.pagenav {
  margin-top: 1.5rem;
  overflow: hidden;
  &:last-child { margin-top: 2rem; }
  p { margin: 0; }
  ~ h1 { margin-top: 1rem; }
}
.return, .advance { cursor: default; }
.return {
  float: left;
  font-size: 1.5rem;
}
.advance {
  float: right;
  font-size: 1.5rem;
}

// image captions
.caption, .caption p {
  color: $color-secondary;
  font-size: 1.3rem;
  text-align: center !important;
}

// column lists
.cols2, .cols3, .cols4 { column-gap: 3rem; }

// two-column lists
.cols2 {
  column-count: 2;
  font-size: 1.5rem;
  .flag { height: 1.1rem; }
}

// three-column lists
.cols3 {
  column-count: 3;
  font-size: 1.3rem;
  .flag { height: 1rem; }
}

// four-column lists
.cols4 {
  column-count: 4;
  font-size: 1.2rem;
  .flag { height: .9rem; }
}

// color boxes
.color {
  border: .1rem solid $color-border;
  cursor: default;
  display: inline-block;
}

.flexmenu {
  column-gap: 1rem;
  display: flex;
  flex-wrap: wrap;
  row-gap: 1rem;
  .feature.option {
    margin: 0;
    width: 16rem;
  }
}

// origin statistics for credits
.origin {
  font-size: 1.5rem;
  margin: .2rem 0;
  width: 75%;
  span {
    background: $color-primary;
    cursor: default;
    display: inline-block;
  }
}

.story p {
  hyphens: auto;
  text-align: justify;
  + p { text-indent: 4rem; }
}

.gallery {
  display: flex;
  flex-wrap: wrap;
  margin: 0 auto;
  text-align: center;
  div {
    margin: .5rem;
    max-width: 150px;
    width: min-content;
  }
  a:hover img { opacity: .75; }
  img {
    max-height: 150px;
    max-width: 150px;
  }
  p {
    margin: .1rem 0;
    a { white-space: normal; }
  }
}

.feature {
  align-items: center;
  display: flex;
  margin: 1.5rem 0;
  h2 { margin-top: .5rem;
    + p:not(.cap) { margin-top: -.5rem; }
  }
  p:not(.cap) { margin: .5rem 0 1rem; }
  img {
    margin-right: 2.5rem;
    width: 125px;
  }
  > div { width: 100%; }
  div div {
    color: $color-secondary;
    display: flex;
    justify-content: right;
    margin-top: 2rem;
  }
  &.option {
    margin: 1rem 0;
    text-decoration: none;
    width: fit-content;
    &[target="_blank"]::after { content: none; }
    &[href]:where([href^="http"])::after { content: none; }
    &:hover img { opacity: .75; }
    p { margin: 0; }
    img, &.cropped img {
      height: 50px;
      margin-right: 1.5rem;
      width: 50px;
    }
  }
  &.cropped {
    img {
      height: 125px;
      object-fit: cover;
      width: 125px;
    }
  }
  &.standout {
    background: $color-shade;
    border: .1rem solid $color-border;
    padding: 2rem 3rem;
  }
}